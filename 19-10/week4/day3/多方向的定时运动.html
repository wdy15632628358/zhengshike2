<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>多方向</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        #box {
            margin: 10px 10px;
            width: 200px;
            height: 200px;
            position: relative;
            background: red;
            left: 100px;
            /* animation: move 2s linear infinite; */
        }
    </style>
</head>

<body>
    <div id="box">珠峰培训</div>

</body>

</html>
<script src='./animate.js'></script>
<!-- <script src= "">
    function linear(b, e, d, t) {//begin end duration time
        return (e - b) / d * t + b

    }
    function move(ele, attr, duration, target) {
        let start = parseFloat(getComputedStyle(ele)[attr])//拿到初始位置
        let time = 0;//记录运动过的时间
        let l = 0;//记录元素当前位置
        let timer = setInterval(() => {
            time += 10;
            l = linear(start, target, duration, time)
            if (time >= duration) {
                l = target;
                clearInterval(timer);
            }
            ele.style[attr] = l + (attr === 'opacity' ? '' : 'px');
        }, 10);
    }
    // move(box, 'left', 500, 800)//500毫秒 800距离
    // move(box, 'top', 500, 500)//500毫秒 800距离
    // move(box, 'opacity', 500, 0.5)//500毫秒 800距离
    // move(box, 'fontSize', 500, 50)//500毫秒 800距离



    
    move2(box, 500, { left: 800, top: 500, opacity: 0.2, fontSize: 50 },'easeIn')

    function move2(ele, duration, option,type='linear') {
        let startObj = {};// 存放的是各个属性的初始值；
        for (var k in option) {
            startObj[k] = parseFloat(getComputedStyle(ele)[k]);
        }
        let time = 0;// 记录的是运动过的时间
        let l = {}; // 记录的是元素当前的位置
        let timer = setInterval(() => {
            time += 10;
            // l = linear(start,target,duration,time);
            for (let k in startObj) {
                // l[k] = linear(startObj[k], option[k], duration, time)
                l[k] = moveType[type](time,option[k]-startObj[k],duration,startObj[k])
            }
            if (time >= duration) {
                l = option;// 让 当前位置 等于 目标位置即可
                clearInterval(timer)
            }
            // ele.style[attr] = l + (attr==='opacity' ? '' : 'px');
            for (let k in option) {
                ele.style[k] = l[k] + (k === 'opacity' ? '' : 'px');
            }
        }, 10)
    }


    var moveType = {
        linear: function linear(time, changeL, duration, beginL) {
            return changeL / duration * time + beginL;
        },
        easeIn: function (t, c, d, b) {//先慢后快
            return -c * (Math.sqrt(1 - (t /= d) * t) - 1) + b;
        },
        easeOut: function (t, c, d, b) {//
            return c * Math.sqrt(1 - (t = t / d - 1) * t) + b;
        },
        easeInOut: function (t, c, d, b) {//先快后慢
            if ((t /= d / 2) < 1) {
                return -c / 2 * (Math.sqrt(1 - t * t) - 1) + b;
            }
            return c / 2 * (Math.sqrt(1 - (t -= 2) * t) + 1) + b;
        }
    };
</script> -->

<script>
animate(box, { left: 800, top: 500},1000,'easeIn',function(){console.log('执行完成')})
// move2(box, 500, { left: 800, top: 500, opacity: 0.2, fontSize: 50 },'easeIn')

</script>