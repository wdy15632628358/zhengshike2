<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>模板引擎</title>
</head>

<body>
    <script>
        function render(template, data) {
            //对template使用replace方法，//
            let str = template.replace(/\{\{(\w+)\}\}/g, function (a, b) {//前面用正则匹配，后面用function替换成data里的数据
                // console.log(a,b);//{{name}} name   {{age}} age   {{sex}} sex
                return data[b] ? data[b] : '未知'
            })
            return str;
        }
        let template = '我是{{name}},年龄{{age}},性别{{sex}}'
        let data = {
            name: '小明',
            age: 18
        }
        console.log(render(template, data))//我是姓名，年龄10，性别undefined

        /*----------------------------------------------------------------------------*/
        function timeFormate(template, time) {
            template = template || '今天是{{0}}年{{1}}月{{2}}日 {{3}}时{{4}}分{{5}}秒';
            time = time ? new Date(time) : new Date;
            let ary = [time.getFullYear(), time.getMonth() + 1, time.getDate(), time.getHours(), time.getMinutes(), time.getSeconds()];
            return template.replace(/\{\{(\w+)\}\}/g, function (a, b) {
                return ary[b];
            })
        }
        console.log(timeFormate())















    </script>
</body>

</html>